<script>

  var pageInfo = {
    "title": "",
    "url": "",
    "summary": ""
  };

  function getPageInfo() { 
    chrome.tabs.executeScript(null, { file: "content_script.js" }); 
  };

  function getMessages(request, sender, callback) {

    if(request.title){
      // content_script.jsからであれば、現在開いているページの値を格納する
      pageInfo = request;
      }else{
      //script.jsからでれば、呼び出し元（script.js）に対して現在開いているページのデータを返却する
      callback(pageInfo);
    }
  }

  //contentScriptからのリクエストを待機する
  chrome.extension.onRequest.addListener(getMessages);

</script>
